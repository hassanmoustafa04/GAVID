# GAVID Backend Configuration
# Copy this file to .env and customize as needed

# ==============================================================================
# Deployment Mode
# ==============================================================================

# Device: "cuda:0" for GPU, "cpu" for CPU-only mode
GAVID_DEVICE=cpu

# Allow CPU fallback when GPU unavailable (recommended for development)
GAVID_ALLOW_CPU_FALLBACK=true

# ==============================================================================
# Model Configuration
# ==============================================================================

# Model architecture (currently only resnet18 supported)
GAVID_MODEL_REPO=resnet18

# Enable FP16 precision (GPU only - ignored on CPU)
GAVID_MODEL_FP16=true

# TensorRT engine cache location (GPU only)
GAVID_MODEL_ENGINE_PATH=artifacts/resnet18_fp16_engine.tsrt

# Optional: Local ResNet18 weights file (avoids network download)
GAVID_MODEL_TORCH_WEIGHTS=/Users/hassanmoustafa/gavid/backend/downloads/resnet18-f37072fd.pth

# Maximum batch size for TensorRT optimization (GPU only)
GAVID_MAX_BATCH_SIZE=8

# ==============================================================================
# GPU Metrics Configuration
# ==============================================================================

# Metrics update interval in seconds
GAVID_METRICS_UPDATE_INTERVAL_S=2.0

# DCGM field IDs (comma-separated, GPU only)
# Default: 100,101,203,204,150,155,232
# GAVID_DCGM_FIELD_IDS=100,101,203,204,150,155,232

# ==============================================================================
# API Configuration
# ==============================================================================

# API metadata
GAVID_API_TITLE=GPU-Accelerated Vision Inference Dashboard
GAVID_API_VERSION=0.1.0

# Enable profiling (for development)
GAVID_ENABLE_PROFILING=true

# ==============================================================================
# macOS / CPU-Only Development
# ==============================================================================
# Uncomment these for local macOS development without GPU:
#
# GAVID_DEVICE=cpu
# GAVID_ALLOW_CPU_FALLBACK=true
# GAVID_MODEL_FP16=false
#
# Note: GPU metrics will use stub backend (fake data) when GPU unavailable

# ==============================================================================
# Production GPU Deployment
# ==============================================================================
# Uncomment these for Linux with NVIDIA GPU:
#
# GAVID_DEVICE=cuda:0
# GAVID_ALLOW_CPU_FALLBACK=false
# GAVID_MODEL_FP16=true
# GAVID_MAX_BATCH_SIZE=8
